# AD9959 DDS驱动库使用说明

## 概述
本驱动库为AD9959四通道直接数字频率合成器(DDS)提供完整的驱动支持，适用于STM32H7系列微控制器。AD9959是一款高性能的四通道DDS芯片，能够生成高精度的正弦波信号，并支持频率、相位、幅度的独立控制以及各种扫描功能。  
可以通过硬件/软件SPI来控制，请在.h头文件开头更改宏定义使用。使用Cubemx配置，DataSize改为8bits，其余默认。

## 硬件连接
### 引脚连接对照表
| STM32引脚 | AD9959引脚 | 功能说明 | CubeMX标签名 |
|-----------|------------|----------|--------------|
| PA9       | CS         | 片选信号(低电平有效) | AD9959_CS |
| PA8       | I/O UPDATE | 数据更新信号 | AD9959_UD |
| PC9       | SCLK       | SPI时钟信号 | AD9959_CLK |
| PC8       | SDIO_0     | 串行数据输入线0 | AD9959_SD0 |
| PC7       | SDIO_1     | 串行数据输入线1 | AD9959_SD1 |
| PC6       | SDIO_2     | 串行数据输入线2 | AD9959_SD2 |
| PD15      | SDIO_3     | 串行数据输入线3 | AD9959_SD3 |
| PD14      | RESET      | 硬件复位信号(低电平有效) | AD9959_RST |
| PD13      | PWR DWN CTL| 功率下降控制(低电平有效) | AD9959_PDC |

（其实SD1-SD3都没使用到，接地也能正常使用的）
### 硬件注意事项
- **GPIO配置**: 所有引脚都应配置为推挽输出模式
- **电源连接**: AD9959的VCC连接到5V电源

## 实例程序
### main.c中已经给出了简单的4通道测试程序，如果需要扫频请手动设置

## 说明
AD9959支持**4线SPI**以及**正常SPI**  
本驱动只用了**正常的SPI**
通过设置寄存器来配置不同的通道  
扫频部分科一电子为CFR为{0x80,0x43,0x20} 此处进行了修改{0x82, 0x43, 0x30}  
通过更改SRR_Data来设置扫频速率，扫频是单次扫频
